{"ast":null,"code":"var _jsxFileName = \"D:\\\\Assignment m\\xF4n NodeJs\\\\A1\\\\FE\\\\src\\\\pages\\\\browse\\\\Banner.jsx\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport styles from \"./Banner.module.css\";\nconst Banner = props => {\n  //state bộ phim dùng làm banner\n  const [movie, setMovie] = useState({});\n  //Tạo hàm lấy ngẫu nhiên thông tin của 1 bộ phim trong 20 bộ phim lấy từ API fetchNetflixOriginals để hiển thị lên Banner\n  const token = \"RYoOcWM4JW\";\n  const randomMovie = useCallback(() => {\n    fetch(`http://localhost:5000/api/movies/trending`, {\n      method: \"GET\",\n      headers: {\n        authorization: token\n      }\n    }).then(response => response.json()).then(data => {\n      setMovie(data.results);\n      console.log(data.results);\n    }).catch(err => alert(err));\n  }, []);\n  // const randomMovie = useCallback(() => {\n  //   fetch(`https://api.themoviedb.org/3${props.linkapi}`)\n  //     .then((response) => response.json())\n  //     .then((data) =>\n  //       setMovie(\n  //         data.results[Math.floor(Math.random() * data.results.length - 1)]\n  //       )\n  //     )\n  //     .catch((err) => alert(err));\n  // }, [props.linkapi]);\n  //tìm nạp dữ liệu ngay sau khi tải trang, phía trên có thêm useCallback để không bị lặp vô hạn\n  useEffect(() => {\n    randomMovie();\n  }, [randomMovie]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.movieimg,\n    src: `https://image.tmdb.org/t/p/w500${movie.backdrop_path}`,\n    alt: \"movieimage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.movieinfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.moviename,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, `${movie.name}`), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.btn1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Play\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.btn2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"My List\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.movieoverview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, `${movie.overview}`)));\n};\nexport default Banner;","map":{"version":3,"names":["React","useState","useEffect","useCallback","styles","Banner","props","movie","setMovie","token","randomMovie","fetch","method","headers","authorization","then","response","json","data","results","console","log","catch","err","alert","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","movieimg","src","backdrop_path","alt","movieinfo","moviename","name","btn1","btn2","movieoverview","overview"],"sources":["D:/Assignment môn NodeJs/A1/FE/src/pages/browse/Banner.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport styles from \"./Banner.module.css\";\r\n\r\nconst Banner = (props) => {\r\n  //state bộ phim dùng làm banner\r\n  const [movie, setMovie] = useState({});\r\n  //Tạo hàm lấy ngẫu nhiên thông tin của 1 bộ phim trong 20 bộ phim lấy từ API fetchNetflixOriginals để hiển thị lên Banner\r\n  const token = \"RYoOcWM4JW\";\r\n\r\n  const randomMovie = useCallback(() => {\r\n    fetch(`http://localhost:5000/api/movies/trending`, {\r\n      method: \"GET\",\r\n      headers: { authorization: token },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setMovie(data.results);\r\n        console.log(data.results);\r\n      })\r\n      .catch((err) => alert(err));\r\n  }, []);\r\n  // const randomMovie = useCallback(() => {\r\n  //   fetch(`https://api.themoviedb.org/3${props.linkapi}`)\r\n  //     .then((response) => response.json())\r\n  //     .then((data) =>\r\n  //       setMovie(\r\n  //         data.results[Math.floor(Math.random() * data.results.length - 1)]\r\n  //       )\r\n  //     )\r\n  //     .catch((err) => alert(err));\r\n  // }, [props.linkapi]);\r\n  //tìm nạp dữ liệu ngay sau khi tải trang, phía trên có thêm useCallback để không bị lặp vô hạn\r\n  useEffect(() => {\r\n    randomMovie();\r\n  }, [randomMovie]);\r\n  return (\r\n    <div>\r\n      <img\r\n        className={styles.movieimg}\r\n        src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path}`}\r\n        alt=\"movieimage\"\r\n      />\r\n      <div className={styles.movieinfo}>\r\n        <p className={styles.moviename}>{`${movie.name}`}</p>\r\n        <button className={styles.btn1}>Play</button>\r\n        <button className={styles.btn2}>My List</button>\r\n        <p className={styles.movieoverview}>{`${movie.overview}`}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,qBAAqB;AAExC,MAAMC,MAAM,GAAIC,KAAK,IAAK;EACxB;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC;EACA,MAAMQ,KAAK,GAAG,YAAY;EAE1B,MAAMC,WAAW,GAAGP,WAAW,CAAC,MAAM;IACpCQ,KAAK,CAAE,2CAA0C,EAAE;MACjDC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAEC,aAAa,EAAEL;MAAM;IAClC,CAAC,CAAC,CACCM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;MACdV,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC;MACtBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACC,OAAO,CAAC;IAC3B,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,IAAKC,KAAK,CAACD,GAAG,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EACN;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACArB,SAAS,CAAC,MAAM;IACdQ,WAAW,EAAE;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EACjB,oBACEV,KAAA,CAAAyB,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE/B,KAAA,CAAAyB,aAAA;IACEO,SAAS,EAAE5B,MAAM,CAAC6B,QAAS;IAC3BC,GAAG,EAAG,kCAAiC3B,KAAK,CAAC4B,aAAc,EAAE;IAC7DC,GAAG,EAAC,YAAY;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAChB,eACF/B,KAAA,CAAAyB,aAAA;IAAKO,SAAS,EAAE5B,MAAM,CAACiC,SAAU;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/B/B,KAAA,CAAAyB,aAAA;IAAGO,SAAS,EAAE5B,MAAM,CAACkC,SAAU;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,GAAExB,KAAK,CAACgC,IAAK,EAAC,CAAK,eACrDvC,KAAA,CAAAyB,aAAA;IAAQO,SAAS,EAAE5B,MAAM,CAACoC,IAAK;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,MAAI,CAAS,eAC7C/B,KAAA,CAAAyB,aAAA;IAAQO,SAAS,EAAE5B,MAAM,CAACqC,IAAK;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAO,CAAS,eAChD/B,KAAA,CAAAyB,aAAA;IAAGO,SAAS,EAAE5B,MAAM,CAACsC,aAAc;IAAAhB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,GAAExB,KAAK,CAACoC,QAAS,EAAC,CAAK,CACzD,CACF;AAEV,CAAC;AAED,eAAetC,MAAM"},"metadata":{},"sourceType":"module"}